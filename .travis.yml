language: cpp
os: linux
sudo: required
addons:
    apt:
        sources:
            - ubuntu-toolchain-r-test
        packages:
            - g++-4.9

install:
    - git clone https://github.com/statoil/segyio
    - pushd segyio
    - cmake . -DEXPERIMENTAL=ON -DBUILD_PYTHON=OFF
              -DBUILD_TESTING=OFF -DBUILD_SHARED_LIBS=OFF
    - make
    - sudo make install
    - popd

script:
    - g++ --version
    - mkdir build
    - pushd build
    - cmake ..
    - make
    - make test
