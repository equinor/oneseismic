language: cpp
os: linux
dist: xenial
sudo: required

install:
    - git clone https://github.com/statoil/segyio
    - pushd segyio
    - cmake . -DEXPERIMENTAL=ON -DBUILD_PYTHON=OFF
              -DBUILD_TESTING=OFF -DBUILD_SHARED_LIBS=OFF
    - make
    - sudo make install
    - popd

script:
    - export CXX=/usr/bin/clang++
    - mkdir build
    - pushd build
    - cmake ..
    - make
    - make test
