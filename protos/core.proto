syntax = "proto3";
package seismic_core;

// The seismic core service definition.
service Core {
  rpc ShatterLink (ShatterLinkRequest) returns (ShatterReply) {}
  rpc StitchSurface (SurfaceRequest) returns (SurfaceReply) {}
}

message  SurfaceRequest {
    Surface surface    = 1;
    string basename    = 2;
    uint32  cubexs     = 3;
    uint32  cubeys     = 4;
    uint32  cubezs     = 5;
    uint32  fragmentxs = 6;
    uint32  fragmentys = 7;
    uint32  fragmentzs = 8;
}

message Surface {
    repeated Point points = 1;
}

message Point {
    float x = 1;
    float y = 2;
    float z = 3;
}

message SurfaceReply {
    repeated uint64 i = 1;
    repeated float v = 2;
}

message ShatterLinkRequest {
    string link = 1;
}

message ShatterReply {
    string link = 1;
}
